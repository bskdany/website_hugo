<!DOCTYPE html>
<html lang="en-us"><head><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">Abusing Bluetooth Speakers | Bskdanys blog</title>
<meta property="og:title" content="Abusing Bluetooth Speakers | Bskdanys blog" />
<meta name="twitter:title" content="Abusing Bluetooth Speakers | Bskdanys blog" />
<meta itemprop="name" content="Abusing Bluetooth Speakers | Bskdanys blog" />
<meta name="application-name" content="Abusing Bluetooth Speakers | Bskdanys blog" />
<meta property="og:site_name" content="Bskdanys blog" />

<meta name="description" content="A place where I can show off my stuff and rant about my failures">
<meta itemprop="description" content="A place where I can show off my stuff and rant about my failures" />
<meta property="og:description" content="A place where I can show off my stuff and rant about my failures" />
<meta name="twitter:description" content="A place where I can show off my stuff and rant about my failures" />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />



  <meta itemprop="image" content="https://bskdany.com/" />
  <meta property="og:image" content="https://bskdany.com/" />
  <meta name="twitter:image" content="https://bskdany.com/" />
  <meta name="twitter:image:src" content="https://bskdany.com/" />




    
    
    
    

    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content=2023-06-22T02:41:32-0400 />
    <meta property="article:published_time" content=2023-06-22T02:41:32-0400 />

    

    

    <script defer type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "Abusing Bluetooth Speakers",
        "author": {
        "@type": "Person",
        "name": ""
        },
        "datePublished": "2023-06-22",
        "description": "",
        "wordCount":  685 ,
        "mainEntityOfPage": "True",
        "dateModified": "2023-06-22",
        "image": {
        "@type": "imageObject",
        "url": ""
        },
        "publisher": {
        "@type": "Organization",
        "name": "Bskdanys blog"
        }
    }
    </script>


<meta name="generator" content="Hugo 0.114.0">

    

    <link rel="canonical" href="https://bskdany.com/posts/abusing-bluetooth-speakers/">
    <link href="/style.min.618a67c5db40138a8c2cd5fcdae0f2f68542eb3b4d73d49274fcfea55037a3c7.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="https://bskdany.com/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    
    </head>
<body data-theme = "dark" class="notransition">

<script src="/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js" integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="https://bskdany.com/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        Home
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/posts/">
                        Posts
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/whoami/">
                        Whoami
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">Abusing Bluetooth Speakers</h1>
                
                <div class="post-meta">
                    <time datetime="2023-06-22T02:41:32-04:00" itemprop="datePublished"> 22 Jun 2023 </time>
                </div>
            </header><div class="page-content">
                <p>One day in April 2022 I noticed how a speaker used by a restaurant close by had the pairing mode always on, I obviously found it fun to connect to it every time I was close by and play <a href="https://www.youtube.com/watch?v=f2bHoTUiMpI">Scotland Forever</a> at max volume, making the waiters run around confused&hellip;</p>
<p>Anyways, that made me wonder, how many more of those speakers can be found? I already had a plan in mind, an android app that automatically scans, pairs, connects and plays loud music on whatever it can connect to. How can I make this a real thing? I have no idea, I never did an android app nor had to deal with Bluetooth.</p>
<p>I tried to find some already existing android apps that can connect to Bluetooth devices, I did found a couple but I couldn&rsquo;t figure out the old versions of Gradle to compile them into an apk, so I gave up on this, I had to do one from scratch.</p>
<p>I moved to tutorials, I found <a href="https://www.youtube.com/watch?v=Oz4CBHrxMMs">this</a> great video that shows the basics on how to move around Android Studio and the logic behind android apps Bluetooth capabilities, <a href="https://developer.android.com/guide/topics/connectivity/bluetooth">the official android API documentation</a> was also very useful. A problem that I encountered was the choice of the language: I didn&rsquo;t really want to explore Javas boilerplate so I opted to stick to Kotlin in the beginning, after messing around here and there I realized that the Bluetooth documentations wasn&rsquo;t up to date for Kotlin and so I had to switch back to Java.</p>
<p>After a long week of trial and error I finally managed to create a functional app</p>
<p><img src="/app_screenshot.jpg" alt="&ldquo;Screenshot of the app&rdquo;"></p>
<p>I like how I had to install the app on my new phone at the time of writing this blog post to get this screenshot and it instantly crashed because apparently I was to lazy to request the &ldquo;Nearby Devices&rdquo; permission.</p>
<p>The app worked like this: it scanned all the Bluetooth devices around every 20 seconds and listed them on the screen, you could manually connect to a device by tapping one on the list or wait for the app to detect a connectable speaker and pair to it. The app had also to check if the device was already paired so that it could connect to it directly, I also implemented a &ldquo;Stop Scan&rdquo; button that would work as and &ldquo;Abort Everything&rdquo; button because things went sideways very often.</p>
<p>Two problems that made this app not as great as I imagined:</p>
<ol>
<li>It wasn&rsquo;t doable to make this thing go in the background, at least I didn&rsquo;t figure out how, so I had to leave the app always open.</li>
<li>To pair a device automatically you would need the &ldquo;BLUETOOTH_PRIVILEGED&rdquo; permission that only system apps have, there is an actual workaround with adb where you can just push the apk to the system folder but it was giving me problems so I gave up.</li>
</ol>
<p>As you may have noticed the part where the app automatically plays music is missing, this is because I used Tasker and AutoInput as a workaround to the automatic pairing and so I opted to create the music part with Tasker too because I was feeling too lazy to code it.</p>
<p>Those are the Tasker rules that I created.</p>
<ul>
<li>if Bluetooth speaker is connected -&gt; play Scotland Forever from Spotify</li>
<li>if you turn volume down -&gt; volume goes up</li>
<li>if you stop the song -&gt; song starts playing again</li>
</ul>
<p>It was time to test my creation, so I get my phone, set everything up and walk past the restaurant. Surprisingly it managed to do all of the pairing, the connecting and the playing of the music on the first try. The gentle tune of Scottish music started playing at max volume as I try not to make eye contact with the confused waiter standing next to me.</p>
<p>Using the app on a daily basis somehow damaged the Bluetooth chip on my phone and I&rsquo;m pretty sure that the restaurant figured out who I was, 10/10 would do again.</p>
<p>The source code and the compiled app can be found <a href="https://github.com/bskdany/AndroidBluetoothAutoPair">on my github</a>.</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/bskdany" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="https://twitter.com" target="_blank" rel="noopener noreferrer me"
    title="Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
</a>
<a href="index.xml" target="_blank" rel="noopener noreferrer me"
    title="Rss">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
</a>
</div>
    <small class="footer_copyright">
        © 2023 bskdany.
        Powered by <a href="https://github.com/hugo-sid/hugo-blog-awesome" target="_blank" rel="noreferrer noopener">Hugo blog awesome</a>
        theme on
        <a href="https://gohugo.io" target="_blank" rel="noreferrer noopener">Hugo</a>.
    </small>
</footer><a href="#" title="Go to top" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    




    
    
        
    

    
    
        
    



    
    <script src="https://bskdany.com/js/main.min.35f435a5d8eac613c52daa28d8af544a4512337d3e95236e4a4978417b8dcb2f.js" integrity="sha256-NfQ1pdjqxhPFLaoo2K9USkUSM30&#43;lSNuSkl4QXuNyy8="></script>

    

</body>
</html>
